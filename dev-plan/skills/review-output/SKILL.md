---
name: review-output
description: Defines the standard output format and template for architectural review reports. Use this skill to ensure consistent, comprehensive review report formatting for development plans and implementation proposals.
---

# Architectural Review Report Format Specification

## Overview

This skill defines the exact structure and format for architectural review reports generated by the dev-plan-reviewer agent. The report must be comprehensive, actionable, and provide clear guidance for improving development plans.

## Target Audience

Assume the primary reader of the review report is a junior developer. Therefore, the findings and recommendations should be explicit and unambiguous, and jargon should be avoided where possible. Provide enough detail to enable them to understand the issue, its impact, and how to fix it.

The review report is also intended for:

- Developers who created the implementation plan
- Technical leads reviewing the architectural approach
- Team members who will implement the plan
- Project stakeholders assessing technical risk

## Report Structure

All architectural review reports MUST follow this exact structure:

````markdown
# Architectural Review Report

> **Development Plan**: [Link to or name of the plan being reviewed]
> **Review Date**: [YYYY-MM-DD]
> **Reviewer**: Development Plan Reviewer Agent

---

## Executive Summary

**Overall Assessment**: [Approved | Approved with Recommendations | Requires Revision | Rejected]

**Critical Issues**: [Number] Critical | [Number] High | [Number] Medium | [Number] Low

---

## Architectural Analysis

### Issue #1: [Issue Title]

- **Category**: [Design Flaw | Inconsistency | Security | Performance | Maintainability | Scalability | Testing]
- **Severity**: [Critical | High | Medium | Low]
- **Location**: [Reference to specific section/component in the plan]

**Description**:
[Concise explanation of the identified issue - 1-2 sentences max]

**Impact**:
[Brief statement of potential consequences - 1 sentence]

**Recommendation**:
[Concrete, actionable solution - 1-2 sentences with file references if applicable]

**Code Example** (optional, only for complex cases):
[Brief code snippet showing recommended approach only - not both problematic and recommended]

---

[Repeat the above structure for each identified issue]

---

## Consistency Violations

[If no violations found, state: "No consistency violations identified."]

[List as concise bullet points. Each point should briefly state the violation and the correct pattern with file reference. Example: "- File structure: Use `src/auth/` not `src/services/auth/` (see AdminAuthService.php)"]

---

## Positive Aspects

[Always include this section to highlight strengths. List 2-4 positive aspects.]

- [Well-thought-out aspect or decision]
- [Good use of existing patterns]
- [Innovative solution or clear structure]

---

## Recommendations Summary

### Critical Changes Required

[List must-fix issues that block implementation, or state "None identified."]

### High Priority Improvements

[List important improvements that should be addressed before implementation]

### Optional Enhancements

[List nice-to-have improvements that can be considered]

````

## Formatting Guidelines

### Tone and Language

- Be constructive, professional, and concise
- Explain WHY something is problematic in 1-2 sentences
- Use clear, specific language avoiding verbose explanations
- Balance criticism with recognition of positive aspects
- Focus on actionable recommendations

### Severity Definitions

| Severity | When to Use | Action Required |
|----------|-------------|-----------------|
| **Critical** | System failures, security breaches, major architectural problems | Must fix before implementation |
| **High** | Maintainability problems, scalability concerns, significant technical debt | Should fix before implementation |
| **Medium** | Code quality improvements, consistency issues | Address but won't block implementation |
| **Low** | Minor improvements, optimization opportunities | Nice to have, can address during implementation |

### Code Examples and References

- Include code examples only for complex cases where verbal explanation is insufficient
- Show recommended approach only (not both problematic and recommended)
- Keep code snippets brief and focused on the key concept
- Reference specific file paths: `path/to/file.ext:line_number`
- Reference specific functions, classes, or components by name in recommendations

## Quality Requirements Checklist

When creating a review report, ensure:

- [ ] Clear overall assessment with accurate issue counts
- [ ] Each issue is concise (descriptions 1-2 sentences, impacts 1 sentence)
- [ ] Code examples included only when necessary and kept brief
- [ ] Consistency violations as single-line bullets with file references
- [ ] At least 2-3 positive aspects highlighted
- [ ] Recommendations properly prioritized by severity
- [ ] Professional, constructive, and concise tone throughout
- [ ] No unnecessary verbosity - every sentence should add value

## Example Review Report

````markdown
# Architectural Review Report

> **Development Plan**: User Authentication System Implementation
> **Review Date**: 2025-10-30
> **Reviewer**: Development Plan Reviewer Agent

---

## Executive Summary

**Overall Assessment**: Approved with Recommendations

**Critical Issues**: 0 Critical | 1 High | 0 Medium | 0 Low

---

## Architectural Analysis

### Issue #1: Session Storage Implementation

- **Category**: Security
- **Severity**: High
- **Location**: Phase 2 - Session Management Implementation

**Description**:
Plan proposes storing session tokens in localStorage, exposing them to XSS attacks and contradicting project security standards.

**Impact**:
XSS vulnerabilities could allow attackers to steal user sessions, leading to account takeover.

**Recommendation**:
Store session tokens in httpOnly cookies following the pattern in `src/auth/AdminAuthService.ts:45-67`. Set cookies server-side with httpOnly, secure, and sameSite flags.

**Code Example**:
```typescript
// Recommended approach
res.cookie('authToken', token, {
  httpOnly: true,
  secure: process.env.NODE_ENV === 'production',
  sameSite: 'strict',
  maxAge: 24 * 60 * 60 * 1000
});
```

---

## Consistency Violations

- File structure: Use `src/auth/` not `src/services/auth/` (see AdminAuthService.ts)
- Naming: Use `*Service` pattern instead of `AuthenticationManager` (e.g., `UserAuthenticationService`)

---

## Positive Aspects

- Solid password hashing with bcrypt following security best practices
- Good separation of concerns between authentication logic and API endpoints
- Clear phase breakdown making implementation manageable
- Thorough API endpoint design with proper HTTP methods and status codes

---

## Recommendations Summary

### Critical Changes Required

None identified.

### High Priority Improvements

1. Change session storage from localStorage to httpOnly cookies (see `src/auth/AdminAuthService.ts`)

### Optional Enhancements

1. Move authentication files to `src/auth/` directory
2. Rename `AuthenticationManager` to `UserAuthenticationService`
3. Add rate limiting for login attempts

````

## Usage Notes

- Always use this exact structure for consistency across reviews
- Keep descriptions and impacts concise (1-2 sentences max)
- Include code examples only when necessary for clarity
- Reference actual project files with specific paths and line numbers
- Maintain constructive tone while being direct and concise
- Every sentence should add value - avoid verbose explanations
- Balance criticism with recognition of strengths
